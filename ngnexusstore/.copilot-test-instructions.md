# Test Generation Instructions for NGNexus Store

## Framework and Setup

- Use Jest and React Testing Library
- Follow Next.js testing best practices
- Use MSW for API mocking
- Use Prisma mocking for database operations

## Test Organization

- Group tests by feature (auth, cart, products)
- Use descriptive test suites with `describe` blocks
- Follow naming pattern: `[feature].[component/action].test.ts(x)`

## Test Coverage Requirements

### Components

- Test UI interactions
- Test loading states
- Test error states
- Test responsive behavior
- Test accessibility

### Server Actions

- Test success cases
- Test error handling
- Test input validation
- Mock Prisma operations
- Test authentication states

### Authentication

- Test sign in/up flows
- Test protected routes
- Test session handling
- Test OAuth providers
- Test error scenarios

### Cart Operations

- Test add/remove items
- Test quantity updates
- Test price calculations
- Test session persistence
- Test user-specific carts

## Example Structure

```typescript
import { render, screen, fireEvent } from "@testing-library/react";
import { describe, it, expect, vi } from "vitest";

describe("Feature: Cart Management", () => {
  describe("Component: AddToCart", () => {
    it("should add item to cart when clicked", async () => {
      // Arrange
      const mockProduct = {
        /* test data */
      };

      // Act
      render(<AddToCart product={mockProduct} />);
      await fireEvent.click(screen.getByRole("button"));

      // Assert
      expect(/* assertions */);
    });
  });
});
```
